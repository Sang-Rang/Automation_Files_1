# pylint: disable-msg=import-error
from payloads.pullup.pl_behavior_operations_drill_in import (
    RULE_BREAK_RUN_ID_BROKEN_RULE,
    DATASET,
)

EXPECTED_DATA = {
    "key": "Row Count__ROW_COUNT",
    "name": "Row Count",
    "stndDev": 0,
    "zscore": 6,
    "mean": 3105,
    "value": 0,
    "score": 30,
    "perChange": -100,
    "deltaPerChange": "NaN",
    "verbose": "Row Count deviation from observed range",
    "type": "ROW_COUNT",
    "dqType": "ROW",
    "lbAbs": 2670,
    "ubAbs": 3540,
    "lbZscore": None,
    "ubZscore": None,
    "rangeChart": [0.0, 2670.0, 3540.0, 3670.5],
    "chartType": "ABSOLUTE",
    "chartHistory": [
        [1515196800000, 0.0],
        [1515283200000, 0.0],
        [1515369600000, 3106.0],
        [1515456000000, 3105.0],
        [1515542400000, 3105.0],
        [1515628800000, 3104.0],
        [1515715200000, 3100.0],
        [1515801600000, 0.0],
        [1515888000000, 0.0],
    ],
    "chartHistoryRange": [
        [1515542400000, 3079.0, 3132.0],
        [1515628800000, 3079.0, 3132.0],
        [1515715200000, 3100.0, 3133.0],
        [1515801600000, 3100.0, 3133.0],
        [1515888000000, 3100.0, 3133.0],
    ],
    "chartHistoryPassFail": [],
    "chartHistoryPassFailString": [
        [1515196800000, "L"],
        [1515283200000, "L"],
        [1515369600000, "P"],
        [1515456000000, "P"],
        [1515542400000, "P"],
        [1515628800000, "P"],
        [1515715200000, "P"],
        [1515801600000, "F"],
        [1515888000000, "F"],
    ],
    "chartHistoryMean": [
        [1515196800000, None],
        [1515283200000, None],
        [1515369600000, None],
        [1515456000000, None],
        [1515542400000, None],
        [1515628800000, None],
        [1515715200000, None],
        [1515801600000, None],
        [1515888000000, 3105.0],
    ],
    "passFail": 0,
    "isManual": False,
    "isRootCause": False,
    "status": "Breaking",
    "adaptiveTier": None,
    "neverNegative": False,
}

# ------ DEV-55276 Behavior - Broken Rule ------------------------------------

# Data to use for validation
EXPECTED_DATA_BROKEN_RULE = {
    "dataset": DATASET,
    "runDate": RULE_BREAK_RUN_ID_BROKEN_RULE,
    "rows": 0,
    "passFail": 0,
    "passFailLimit": 75,
    "peak": 1,
    "activeRules": 0,
    "activeAlerts": 0,
    "shapeScore": 0,
    "dupeScore": 0,
    "patternScore": 0,
    "outlierScore": 0,
    "schemaScore": 0,
    "recordScore": 0,
    "ruleScore": 0,
    "sourceScore": 0,
    "behaviorScore": 30,
    "score": 70,
}

EXPECTED_DQ_ITEMS_BROKEN_RULE = {
    "key": "Row Count__ROW_COUNT",
    "name": "Row Count",
    "stndDev": 0.0,
    "zscore": 6.0,
    "mean": 3105.0,
    "value": 0.0,
    "score": 30,
    "perChange": -100.0,
    "deltaPerChange": "NaN",
    "verbose": "Row Count deviation from observed range",
    "type": "ROW_COUNT",
    "dqType": "ROW",
    "lbAbs": 2670.0,
    "ubAbs": 3540.0,
    "rangeChart": [0.0, 2670.0, 3540.0, 3670.5],
    "chartType": "ABSOLUTE",
    "passFail": 1,
    "isManual": False,
    "isRootCause": False,
    "status": "Breaking",
    "adaptiveTier": None,
}
